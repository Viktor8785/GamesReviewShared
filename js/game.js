import{gamesData}from"./games-data.js";const gameImg=[];gameImg[0]=document.querySelector("#img1"),gameImg[1]=document.querySelector("#img2"),gameImg[2]=document.querySelector("#img3");const cardContainer=document.querySelector(".game__card-container"),gameName=document.querySelector(".game__name"),gameGenre=document.querySelector(".game__genre"),gameText=document.querySelector(".game__text"),buttonBack=document.querySelector(".game__button-back"),buttonWatchlist=document.querySelector(".game__button-watchlist"),buttonSvg=document.querySelector(".game__button-svg"),buttonLeft=document.querySelector(".game__button-left"),buttonRight=document.querySelector(".game__button-right"),watchButton=document.querySelector("#watch-button");let urlParams=new URLSearchParams(window.location.search),param=urlParams.get("param"),game=gamesData.find((t=>t.id==param)),currentIndex=0,leftXs=[];leftXs[0]=0,leftXs[1]=-374,leftXs[2]=-748;let leftX=0;cardContainer.style.left=0;let watchList=localStorage.getItem("watch"),watchListFlag=!1;watchList&&watchList.indexOf(param)>=0&&(buttonSvg.classList.add("game__button-svg--active"),watchListFlag=!0),gameImg[0].src=game.imgMobile1,gameImg[1].src=game.imgMobile2,gameImg[2].src=game.imgMobile3,gameName.textContent=game.name,gameGenre.textContent=game.genre,gameText.textContent=game.text,buttonBack.addEventListener("click",(()=>{window.history.go(-1)})),buttonWatchlist.addEventListener("click",(()=>{buttonSvg.classList.toggle("game__button-svg--active"),watchList=localStorage.getItem("watch");let t="";if(watchListFlag)if(watchListFlag=!1,3==watchList.length)t="";else{let e=watchList.indexOf(param);0==e&&(t=watchList.slice(watchList.indexOf(param)+3)),e==watchList.length-3&&(t=watchList.slice(0,watchList.indexOf(param))),e>0&&e<watchList.length-3&&(t=watchList.slice(0,watchList.indexOf(param))+watchList.slice(watchList.indexOf(param)+3))}else t=param+" ",watchList&&watchList.length>0&&(t=watchList+param+" "),watchListFlag=!0;localStorage.setItem("watch",t)})),buttonLeft.addEventListener("click",(()=>{currentIndex>0&&(currentIndex--,leftX=leftXs[currentIndex],cardContainer.style.left=leftX+"px")})),buttonRight.addEventListener("click",(()=>{currentIndex<2&&(currentIndex++,leftX=leftXs[currentIndex],cardContainer.style.left=leftX+"px")})),watchButton.addEventListener("click",(()=>{watchButton.href="games.html?param=watch"}));